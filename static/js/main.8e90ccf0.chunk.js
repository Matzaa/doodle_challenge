(this.webpackJsonpdoodle_challenge=this.webpackJsonpdoodle_challenge||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),s=n.n(o),a=n(4),r=n.n(a),i=(n(10),n(2));function u(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){console.log("hey"),t.current&&t.current.scrollIntoView({behaviour:"smooth",block:"end",inline:"nearest"})})),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{id:"messages",children:[e.messages&&e.messages.map((function(e){return Object(c.jsxs)("div",{className:"chat-box ".concat("me"===e.author?"me":"others"),children:[Object(c.jsx)("p",{children:"me"!==e.author&&e.author}),Object(c.jsx)("h2",{children:e.message}),Object(c.jsxs)("p",{className:"date",children:[" ",new Date(e.timestamp).toLocaleString()]})]},e._id)})),Object(c.jsx)("div",{ref:t})]})})}function h(e){return Object(c.jsxs)("div",{id:"chat",children:[Object(c.jsx)("textarea",{name:"msg",onChange:function(t){return e.handleChange(t)},onKeyDown:function(t){return e.handleChange(t)},placeholder:"Message",value:e.chatMessage}),Object(c.jsx)("button",{onClick:e.postMsg,children:"Send"})]})}n(11);function l(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(o.useState)("me"),r=Object(i.a)(a,2),l=r[0],d=r[1],j=Object(o.useState)([]),b=Object(i.a)(j,2),g=b[0],f=b[1];Object(o.useEffect)((function(){O()}),[]);var O=function(){console.log("hooked up"),fetch("https://chatty.kubernetes.doodle-test.com/api/chatty/v1.0/?token=ruYNT6HEXCel").then((function(e){return e.json()})).then((function(e){console.log("data :",e),f(e)}))},m=function(){fetch("https://chatty.kubernetes.doodle-test.com/api/chatty/v1.0",{method:"POST",body:JSON.stringify({message:n,author:l}),headers:{"Content-Type":"application/json",token:"ruYNT6HEXCel"}}).then((function(e){e.json()})).then((function(e){console.log("what came back: ",e),O(),s("")})).catch((function(e){console.log("error in POST req: ",e)}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(u,{messages:g}),Object(c.jsx)(h,{handleChange:function(e){return s((t=e).target.value),d("me"),void("Enter"===t.key&&(t.preventDefault(),m(),t.target.value=""));var t},chatMessage:n,postMsg:m})]})}var d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),s(e),a(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(l,{})}),document.getElementById("root")),d()}},[[12,1,2]]]);
//# sourceMappingURL=main.8e90ccf0.chunk.js.map